<div class="container">
  <h4>Sign Up Today</h4>
  <p>Stay up to date with all the latest from The Monkees</p>
<button type="button" class="btn btn-primary" (click)="openModal(template)">Sign Up</button>
 
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Sign Up - Form</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form novalidate #f="ngForm" (ngSubmit)="onSubmit(f)">
      <div class="form-group ">
        <label>Name</label>
        <input type="text" class="form-control" [(ngModel)] ="booking.name" name="name" #bookingName="ngModel" minlength="2" required>
        <div *ngIf="bookingName.errors?.required && bookingName.touched" class="alert alert-danger">Name is Required</div>
        <div *ngIf="bookingName.errors?.minlength && bookingName.touched" class="alert alert-danger">Name is not valid</div>
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" class="form-control" [(ngModel)] ="booking.email" name="email" placeholder="you@example.com" #bookingEmail="ngModel" required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
        <div *ngIf="bookingEmail.errors?.required && bookingEmail.touched" class="alert alert-danger">Email is Required</div>
        <div  *ngIf="bookingEmail.errors && bookingEmail.errors.pattern" class="alert alert-danger">
            Please enter a valid Email Address
        </div>
      </div>
      <input type="submit" class="btn btn-success" (click)="openModal2(templateNested)" value="Submit">
    </form>
  </div>
</ng-template>
 
<ng-template #templateNested>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Sign Up - Confirmation</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef2.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <br>
  </div>
  <div class="text-center">
    <h1>{{ validation }}</h1>
    <p class="success">{{ successMSG }}</p>
  </div>
    <button *ngIf="modalRef" type="button" class="btn btn-danger" (click)="closeAllModal()">Close</button>
</ng-template>
 